<?php

namespace Application\Migrations;

use Doctrine\DBAL\Migrations\AbstractMigration,
    Doctrine\DBAL\Schema\Schema;

/**
 * Auto-generated Migration: Please modify to your need!
 */
class Version20131122133843 extends AbstractMigration
{
    public function up(Schema $schema)
    {
        // this up() migration is autogenerated, please modify it to your needs
        $this->abortIf($this->connection->getDatabasePlatform()->getName() != "mysql");
        
        $this->addSql("CREATE TABLE representatives (id INT AUTO_INCREMENT NOT NULL, state VARCHAR(2) DEFAULT NULL, district_id INT DEFAULT NULL, storage_id INT DEFAULT NULL, local_group INT DEFAULT NULL, firstname VARCHAR(255) NOT NULL, lastname VARCHAR(255) NOT NULL, username VARCHAR(255) DEFAULT NULL, password VARCHAR(255) DEFAULT NULL, salt VARCHAR(255) DEFAULT NULL, avatar_file_name VARCHAR(255) DEFAULT NULL, avatar_source_file_name VARCHAR(255) DEFAULT NULL, officialTitle VARCHAR(255) NOT NULL, country VARCHAR(2) NOT NULL, city VARCHAR(255) NOT NULL, officialAddress LONGTEXT NOT NULL, officialPhone VARCHAR(15) NOT NULL, status SMALLINT NOT NULL, email VARCHAR(50) NOT NULL, fax VARCHAR(15) DEFAULT NULL, website VARCHAR(255) DEFAULT NULL, upd_storage_at DATE DEFAULT NULL, questions_limit INT DEFAULT NULL, is_nonlegislative INT DEFAULT NULL, UNIQUE INDEX UNIQ_FC93E535F85E0677 (username), UNIQUE INDEX UNIQ_FC93E5355CC5DB90 (storage_id), INDEX IDX_FC93E535A393D2FB (state), INDEX IDX_FC93E535B08FA272 (district_id), INDEX IDX_FC93E5357226D8C1 (local_group), INDEX is_nonlegislative (is_nonlegislative), INDEX rep_firstName_ind (firstName), INDEX rep_lastName_ind (lastName), INDEX rep_officialTitle_ind (officialTitle), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE groups (id INT AUTO_INCREMENT NOT NULL, local_state VARCHAR(2) DEFAULT NULL, local_district INT DEFAULT NULL, group_type SMALLINT NOT NULL, username VARCHAR(255) NOT NULL, password VARCHAR(255) NOT NULL, salt VARCHAR(255) NOT NULL, avatar_file_name VARCHAR(255) DEFAULT NULL, avatar_source_file_name VARCHAR(255) DEFAULT NULL, manager_first_name VARCHAR(255) DEFAULT NULL, manager_last_name VARCHAR(255) DEFAULT NULL, manager_email VARCHAR(255) DEFAULT NULL, manager_phone VARCHAR(255) DEFAULT NULL, official_name VARCHAR(255) DEFAULT NULL, official_description VARCHAR(255) DEFAULT NULL, official_type VARCHAR(255) DEFAULT NULL, official_address VARCHAR(255) DEFAULT NULL, official_city VARCHAR(255) DEFAULT NULL, official_state VARCHAR(255) DEFAULT NULL, created_at DATETIME NOT NULL, questions_limit INT DEFAULT NULL, petition_percent INT DEFAULT NULL, petition_duration INT DEFAULT NULL, membership_control SMALLINT DEFAULT '0' NOT NULL, membership_passcode VARCHAR(255) DEFAULT NULL, fill_fields_required TINYINT(1) DEFAULT NULL, UNIQUE INDEX UNIQ_F06D3970F85E0677 (username), INDEX IDX_F06D3970BC754EFF (local_state), INDEX IDX_F06D3970A2557E1F (local_district), INDEX group_officialName_ind (official_name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE users_groups (user_id INT NOT NULL, group_id INT NOT NULL, created_at DATETIME NOT NULL, status SMALLINT NOT NULL, INDEX IDX_FF8AB7E0A76ED395 (user_id), INDEX IDX_FF8AB7E0FE54D947 (group_id), UNIQUE INDEX unique_user_group (user_id, group_id), PRIMARY KEY(user_id, group_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE activities (id INT AUTO_INCREMENT NOT NULL, representative_id INT DEFAULT NULL, group_id INT DEFAULT NULL, superuser_id INT DEFAULT NULL, user_id INT DEFAULT NULL, title VARCHAR(255) NOT NULL, description LONGTEXT NOT NULL, sent_at DATETIME DEFAULT NULL, expire_at DATETIME DEFAULT NULL, responses_count INT NOT NULL, is_outsiders TINYINT(1) DEFAULT NULL, type VARCHAR(255) NOT NULL, question_id INT DEFAULT NULL, petition_id INT DEFAULT NULL, INDEX IDX_B5F1AFE5FC3FF006 (representative_id), INDEX IDX_B5F1AFE5FE54D947 (group_id), INDEX IDX_B5F1AFE593BEB0AF (superuser_id), INDEX IDX_B5F1AFE5A76ED395 (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE districts (id INT NOT NULL, `label` VARCHAR(250) NOT NULL, district_type INT NOT NULL, INDEX distr_type (district_type), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE superusers (id INT AUTO_INCREMENT NOT NULL, username VARCHAR(255) DEFAULT NULL, password VARCHAR(255) DEFAULT NULL, salt VARCHAR(255) DEFAULT NULL, email VARCHAR(255) NOT NULL, UNIQUE INDEX UNIQ_A555DC9BF85E0677 (username), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE hash_tags (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, INDEX hash_tag_name_ind (name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE hash_tags_petitions (hash_tag_id INT NOT NULL, petition_id INT NOT NULL, INDEX IDX_20931056AB18B62D (hash_tag_id), INDEX IDX_20931056AEC7D346 (petition_id), PRIMARY KEY(hash_tag_id, petition_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE deferred_invites (id INT AUTO_INCREMENT NOT NULL, group_id INT DEFAULT NULL, date_create DATETIME NOT NULL, email VARCHAR(255) NOT NULL, INDEX IDX_5DDB6352FE54D947 (group_id), UNIQUE INDEX unique_group (group_id, email), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE users_follow (id INT AUTO_INCREMENT NOT NULL, user_id INT DEFAULT NULL, follower_id INT DEFAULT NULL, date_create DATETIME NOT NULL, date_approval DATETIME DEFAULT NULL, status INT NOT NULL, INDEX IDX_67D3CAE0A76ED395 (user_id), INDEX IDX_67D3CAE0AC24F853 (follower_id), UNIQUE INDEX unique_follow (user_id, follower_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE question_limits (id INT AUTO_INCREMENT NOT NULL, questionType SMALLINT NOT NULL, questionLimit INT NOT NULL, UNIQUE INDEX UNIQ_519E17B351930095 (questionType), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE states (code VARCHAR(2) NOT NULL, name VARCHAR(250) NOT NULL, PRIMARY KEY(code)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE representatives_storage (storage_id INT NOT NULL, district_id INT DEFAULT NULL, firstName VARCHAR(255) NOT NULL, lastName VARCHAR(255) NOT NULL, officialTitle VARCHAR(255) NOT NULL, phone VARCHAR(15) DEFAULT NULL, fax VARCHAR(15) DEFAULT NULL, email VARCHAR(80) DEFAULT NULL, website VARCHAR(255) DEFAULT NULL, country VARCHAR(2) DEFAULT NULL, state VARCHAR(2) DEFAULT NULL, city VARCHAR(255) DEFAULT NULL, address1 VARCHAR(255) DEFAULT NULL, address2 VARCHAR(255) DEFAULT NULL, address3 VARCHAR(255) DEFAULT NULL, avatar_src VARCHAR(255) NOT NULL, avatar_file_name VARCHAR(255) DEFAULT NULL, party VARCHAR(255) DEFAULT NULL, birthday DATE DEFAULT NULL, start_term DATE DEFAULT NULL, end_term DATE DEFAULT NULL, facebook VARCHAR(255) DEFAULT NULL, youtube VARCHAR(255) DEFAULT NULL, twitter VARCHAR(255) DEFAULT NULL, openstate_id VARCHAR(255) DEFAULT NULL, INDEX IDX_AAB1F751B08FA272 (district_id), INDEX repst_firstName_ind (firstName), INDEX repst_lastName_ind (lastName), INDEX repst_officialTitle_ind (officialTitle), PRIMARY KEY(storage_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE announcements (id INT AUTO_INCREMENT NOT NULL, representative_id INT DEFAULT NULL, content LONGTEXT NOT NULL, content_parsed LONGTEXT NOT NULL, created_at DATETIME NOT NULL, published_at DATETIME DEFAULT NULL, INDEX IDX_F422A9DFC3FF006 (representative_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE micropetitions (id INT AUTO_INCREMENT NOT NULL, group_id INT NOT NULL, user_id INT DEFAULT NULL, title VARCHAR(255) NOT NULL, petition LONGTEXT NOT NULL, link VARCHAR(255) DEFAULT NULL, is_outsiders_sign TINYINT(1) NOT NULL, created_at DATETIME NOT NULL, expire_at DATETIME NOT NULL, user_expire_interval INT NOT NULL, publish_status INT NOT NULL, type VARCHAR(255) NOT NULL, cached_hash_tags LONGTEXT DEFAULT NULL COMMENT '(DC2Type:array)', INDEX IDX_DE658FA0FE54D947 (group_id), INDEX IDX_DE658FA0A76ED395 (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE micropetitions_answers (id INT AUTO_INCREMENT NOT NULL, user_id INT DEFAULT NULL, petition_id INT DEFAULT NULL, option_id INT NOT NULL, created_at DATETIME NOT NULL, INDEX IDX_9E77053DA76ED395 (user_id), INDEX IDX_9E77053DAEC7D346 (petition_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE poll_questions_comments_rate (id INT AUTO_INCREMENT NOT NULL, comment_id INT DEFAULT NULL, user_id INT DEFAULT NULL, rate_value SMALLINT NOT NULL, created_at DATETIME NOT NULL, INDEX IDX_3F8AB5C5F8697D13 (comment_id), INDEX IDX_3F8AB5C5A76ED395 (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE poll_educational_context (id INT AUTO_INCREMENT NOT NULL, question_id INT DEFAULT NULL, text LONGTEXT NOT NULL, type VARCHAR(255) NOT NULL, INDEX IDX_B888EC6A1E27F6BF (question_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE poll_questions_comments (id INT AUTO_INCREMENT NOT NULL, pid INT DEFAULT NULL, user_id INT DEFAULT NULL, question_id INT DEFAULT NULL, comment_body LONGTEXT NOT NULL, created_at DATETIME NOT NULL, rate_sum INT NOT NULL, privacy INT NOT NULL, INDEX IDX_15824CD85550C4ED (pid), INDEX IDX_15824CD8A76ED395 (user_id), INDEX IDX_15824CD81E27F6BF (question_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE poll_questions (id INT AUTO_INCREMENT NOT NULL, report_recipient_id INT DEFAULT NULL, group_id INT DEFAULT NULL, representative_id INT DEFAULT NULL, superuser_id INT DEFAULT NULL, subject LONGTEXT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, published_at DATETIME DEFAULT NULL, report_recipient_group VARCHAR(255) DEFAULT NULL, type VARCHAR(255) NOT NULL, subject_parsed LONGTEXT DEFAULT NULL, INDEX IDX_410B7D21E7451FE1 (report_recipient_id), INDEX IDX_410B7D21FE54D947 (group_id), INDEX IDX_410B7D21FC3FF006 (representative_id), INDEX IDX_410B7D2193BEB0AF (superuser_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE questions_recipients (question_id INT NOT NULL, representative_id INT NOT NULL, INDEX IDX_89128B481E27F6BF (question_id), INDEX IDX_89128B48FC3FF006 (representative_id), PRIMARY KEY(question_id, representative_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE poll_options (id INT AUTO_INCREMENT NOT NULL, question_id INT DEFAULT NULL, value VARCHAR(150) NOT NULL, INDEX IDX_2C6077B81E27F6BF (question_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE poll_answers (id INT AUTO_INCREMENT NOT NULL, user_id INT DEFAULT NULL, option_id INT NOT NULL, question_id INT DEFAULT NULL, comment LONGTEXT NOT NULL, privacy INT NOT NULL, INDEX IDX_AC854B39A76ED395 (user_id), INDEX IDX_AC854B39A7C41D6F (option_id), INDEX IDX_AC854B391E27F6BF (question_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE user (id INT AUTO_INCREMENT NOT NULL, username VARCHAR(255) NOT NULL, password VARCHAR(255) NOT NULL, salt VARCHAR(255) NOT NULL, firstName VARCHAR(255) DEFAULT NULL, lastName VARCHAR(255) DEFAULT NULL, email VARCHAR(255) NOT NULL, zip VARCHAR(255) DEFAULT NULL, avatar VARCHAR(255) DEFAULT NULL, birth DATE DEFAULT NULL, address1 VARCHAR(255) DEFAULT NULL, address2 VARCHAR(255) DEFAULT NULL, city VARCHAR(255) DEFAULT NULL, state VARCHAR(255) DEFAULT NULL, country VARCHAR(255) DEFAULT NULL, phone VARCHAR(255) DEFAULT NULL, facebookLink VARCHAR(255) DEFAULT NULL, twitterLink VARCHAR(255) DEFAULT NULL, race VARCHAR(255) DEFAULT NULL, sex VARCHAR(255) DEFAULT NULL, orientation VARCHAR(255) DEFAULT NULL, maritalStatus VARCHAR(255) DEFAULT NULL, religion VARCHAR(255) DEFAULT NULL, employmentStatus VARCHAR(255) DEFAULT NULL, incomeLevel VARCHAR(255) DEFAULT NULL, educationLevel VARCHAR(255) DEFAULT NULL, party VARCHAR(255) DEFAULT NULL, philosophy VARCHAR(255) DEFAULT NULL, donor VARCHAR(255) DEFAULT NULL, registration VARCHAR(255) DEFAULT NULL, token VARCHAR(255) DEFAULT NULL, facebook_id VARCHAR(255) DEFAULT NULL, facebook_token VARCHAR(255) DEFAULT NULL, upd_profile_at DATE DEFAULT NULL, ios_token VARCHAR(64) DEFAULT NULL, android_token VARCHAR(255) DEFAULT NULL, doNotDisturb TINYINT(1) DEFAULT '0' NOT NULL, isNotifQuestions TINYINT(1) DEFAULT '1' NOT NULL, isNotifDiscussions TINYINT(1) DEFAULT '1' NOT NULL, isNotifMessages TINYINT(1) DEFAULT '1' NOT NULL, isNotifMicroFollowing TINYINT(1) DEFAULT '1' NOT NULL, isNotifMicroGroup TINYINT(1) DEFAULT '1' NOT NULL, isNotifScheduled TINYINT(1) DEFAULT '0' NOT NULL, scheduledFrom TIME DEFAULT NULL, scheduledTo TIME DEFAULT NULL, UNIQUE INDEX UNIQ_8D93D649F85E0677 (username), UNIQUE INDEX UNIQ_8D93D6499BE8FD98 (facebook_id), INDEX ios_token (ios_token), INDEX android_token (android_token), INDEX user_token (token), INDEX user_firstName_ind (firstName), INDEX user_lastName_ind (lastName), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE notification_invites (user_id INT NOT NULL, group_id INT NOT NULL, INDEX IDX_1660E0DBA76ED395 (user_id), INDEX IDX_1660E0DBFE54D947 (group_id), PRIMARY KEY(user_id, group_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE users_districts (user_id INT NOT NULL, district_id INT NOT NULL, INDEX IDX_E9E623DA76ED395 (user_id), INDEX IDX_E9E623DB08FA272 (district_id), PRIMARY KEY(user_id, district_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE groups_fields (id INT AUTO_INCREMENT NOT NULL, group_id INT DEFAULT NULL, field_name VARCHAR(150) NOT NULL, INDEX IDX_AF0F271EFE54D947 (group_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("CREATE TABLE groups_fields_values (id INT AUTO_INCREMENT NOT NULL, field_id INT DEFAULT NULL, user_id INT DEFAULT NULL, field_value VARCHAR(255) NOT NULL, INDEX IDX_7984E7FA443707B0 (field_id), INDEX IDX_7984E7FAA76ED395 (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB");
        $this->addSql("ALTER TABLE representatives ADD CONSTRAINT FK_FC93E535A393D2FB FOREIGN KEY (state) REFERENCES states (code) ON DELETE SET NULL");
        $this->addSql("ALTER TABLE representatives ADD CONSTRAINT FK_FC93E535B08FA272 FOREIGN KEY (district_id) REFERENCES districts (id) ON DELETE SET NULL");
        $this->addSql("ALTER TABLE representatives ADD CONSTRAINT FK_FC93E5355CC5DB90 FOREIGN KEY (storage_id) REFERENCES representatives_storage (storage_id) ON DELETE SET NULL");
        $this->addSql("ALTER TABLE representatives ADD CONSTRAINT FK_FC93E5357226D8C1 FOREIGN KEY (local_group) REFERENCES groups (id) ON DELETE SET NULL");
        $this->addSql("ALTER TABLE groups ADD CONSTRAINT FK_F06D3970BC754EFF FOREIGN KEY (local_state) REFERENCES states (code)");
        $this->addSql("ALTER TABLE groups ADD CONSTRAINT FK_F06D3970A2557E1F FOREIGN KEY (local_district) REFERENCES districts (id)");
        $this->addSql("ALTER TABLE users_groups ADD CONSTRAINT FK_FF8AB7E0A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE users_groups ADD CONSTRAINT FK_FF8AB7E0FE54D947 FOREIGN KEY (group_id) REFERENCES groups (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE activities ADD CONSTRAINT FK_B5F1AFE5FC3FF006 FOREIGN KEY (representative_id) REFERENCES representatives (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE activities ADD CONSTRAINT FK_B5F1AFE5FE54D947 FOREIGN KEY (group_id) REFERENCES groups (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE activities ADD CONSTRAINT FK_B5F1AFE593BEB0AF FOREIGN KEY (superuser_id) REFERENCES superusers (id)");
        $this->addSql("ALTER TABLE activities ADD CONSTRAINT FK_B5F1AFE5A76ED395 FOREIGN KEY (user_id) REFERENCES user (id)");
        $this->addSql("ALTER TABLE hash_tags_petitions ADD CONSTRAINT FK_20931056AB18B62D FOREIGN KEY (hash_tag_id) REFERENCES hash_tags (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE hash_tags_petitions ADD CONSTRAINT FK_20931056AEC7D346 FOREIGN KEY (petition_id) REFERENCES micropetitions (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE deferred_invites ADD CONSTRAINT FK_5DDB6352FE54D947 FOREIGN KEY (group_id) REFERENCES groups (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE users_follow ADD CONSTRAINT FK_67D3CAE0A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE users_follow ADD CONSTRAINT FK_67D3CAE0AC24F853 FOREIGN KEY (follower_id) REFERENCES user (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE representatives_storage ADD CONSTRAINT FK_AAB1F751B08FA272 FOREIGN KEY (district_id) REFERENCES districts (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE announcements ADD CONSTRAINT FK_F422A9DFC3FF006 FOREIGN KEY (representative_id) REFERENCES representatives (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE micropetitions ADD CONSTRAINT FK_DE658FA0FE54D947 FOREIGN KEY (group_id) REFERENCES groups (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE micropetitions ADD CONSTRAINT FK_DE658FA0A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE micropetitions_answers ADD CONSTRAINT FK_9E77053DA76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE micropetitions_answers ADD CONSTRAINT FK_9E77053DAEC7D346 FOREIGN KEY (petition_id) REFERENCES micropetitions (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE poll_questions_comments_rate ADD CONSTRAINT FK_3F8AB5C5F8697D13 FOREIGN KEY (comment_id) REFERENCES poll_questions_comments (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE poll_questions_comments_rate ADD CONSTRAINT FK_3F8AB5C5A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE poll_educational_context ADD CONSTRAINT FK_B888EC6A1E27F6BF FOREIGN KEY (question_id) REFERENCES poll_questions (id)");
        $this->addSql("ALTER TABLE poll_questions_comments ADD CONSTRAINT FK_15824CD85550C4ED FOREIGN KEY (pid) REFERENCES poll_questions_comments (id)");
        $this->addSql("ALTER TABLE poll_questions_comments ADD CONSTRAINT FK_15824CD8A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE poll_questions_comments ADD CONSTRAINT FK_15824CD81E27F6BF FOREIGN KEY (question_id) REFERENCES poll_questions (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE poll_questions ADD CONSTRAINT FK_410B7D21E7451FE1 FOREIGN KEY (report_recipient_id) REFERENCES representatives (id) ON DELETE SET NULL");
        $this->addSql("ALTER TABLE poll_questions ADD CONSTRAINT FK_410B7D21FE54D947 FOREIGN KEY (group_id) REFERENCES groups (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE poll_questions ADD CONSTRAINT FK_410B7D21FC3FF006 FOREIGN KEY (representative_id) REFERENCES representatives (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE poll_questions ADD CONSTRAINT FK_410B7D2193BEB0AF FOREIGN KEY (superuser_id) REFERENCES superusers (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE questions_recipients ADD CONSTRAINT FK_89128B481E27F6BF FOREIGN KEY (question_id) REFERENCES poll_questions (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE questions_recipients ADD CONSTRAINT FK_89128B48FC3FF006 FOREIGN KEY (representative_id) REFERENCES representatives (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE poll_options ADD CONSTRAINT FK_2C6077B81E27F6BF FOREIGN KEY (question_id) REFERENCES poll_questions (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE poll_answers ADD CONSTRAINT FK_AC854B39A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE poll_answers ADD CONSTRAINT FK_AC854B39A7C41D6F FOREIGN KEY (option_id) REFERENCES poll_options (id)");
        $this->addSql("ALTER TABLE poll_answers ADD CONSTRAINT FK_AC854B391E27F6BF FOREIGN KEY (question_id) REFERENCES poll_questions (id)");
        $this->addSql("ALTER TABLE notification_invites ADD CONSTRAINT FK_1660E0DBA76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE notification_invites ADD CONSTRAINT FK_1660E0DBFE54D947 FOREIGN KEY (group_id) REFERENCES groups (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE users_districts ADD CONSTRAINT FK_E9E623DA76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE users_districts ADD CONSTRAINT FK_E9E623DB08FA272 FOREIGN KEY (district_id) REFERENCES districts (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE groups_fields ADD CONSTRAINT FK_AF0F271EFE54D947 FOREIGN KEY (group_id) REFERENCES groups (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE groups_fields_values ADD CONSTRAINT FK_7984E7FA443707B0 FOREIGN KEY (field_id) REFERENCES groups_fields (id) ON DELETE CASCADE");
        $this->addSql("ALTER TABLE groups_fields_values ADD CONSTRAINT FK_7984E7FAA76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE");
    }

    public function down(Schema $schema)
    {
        // this down() migration is autogenerated, please modify it to your needs
        $this->abortIf($this->connection->getDatabasePlatform()->getName() != "mysql");
        
        $this->addSql("ALTER TABLE activities DROP FOREIGN KEY FK_B5F1AFE5FC3FF006");
        $this->addSql("ALTER TABLE announcements DROP FOREIGN KEY FK_F422A9DFC3FF006");
        $this->addSql("ALTER TABLE poll_questions DROP FOREIGN KEY FK_410B7D21E7451FE1");
        $this->addSql("ALTER TABLE poll_questions DROP FOREIGN KEY FK_410B7D21FC3FF006");
        $this->addSql("ALTER TABLE questions_recipients DROP FOREIGN KEY FK_89128B48FC3FF006");
        $this->addSql("ALTER TABLE representatives DROP FOREIGN KEY FK_FC93E5357226D8C1");
        $this->addSql("ALTER TABLE users_groups DROP FOREIGN KEY FK_FF8AB7E0FE54D947");
        $this->addSql("ALTER TABLE activities DROP FOREIGN KEY FK_B5F1AFE5FE54D947");
        $this->addSql("ALTER TABLE deferred_invites DROP FOREIGN KEY FK_5DDB6352FE54D947");
        $this->addSql("ALTER TABLE micropetitions DROP FOREIGN KEY FK_DE658FA0FE54D947");
        $this->addSql("ALTER TABLE poll_questions DROP FOREIGN KEY FK_410B7D21FE54D947");
        $this->addSql("ALTER TABLE notification_invites DROP FOREIGN KEY FK_1660E0DBFE54D947");
        $this->addSql("ALTER TABLE groups_fields DROP FOREIGN KEY FK_AF0F271EFE54D947");
        $this->addSql("ALTER TABLE representatives DROP FOREIGN KEY FK_FC93E535B08FA272");
        $this->addSql("ALTER TABLE groups DROP FOREIGN KEY FK_F06D3970A2557E1F");
        $this->addSql("ALTER TABLE representatives_storage DROP FOREIGN KEY FK_AAB1F751B08FA272");
        $this->addSql("ALTER TABLE users_districts DROP FOREIGN KEY FK_E9E623DB08FA272");
        $this->addSql("ALTER TABLE activities DROP FOREIGN KEY FK_B5F1AFE593BEB0AF");
        $this->addSql("ALTER TABLE poll_questions DROP FOREIGN KEY FK_410B7D2193BEB0AF");
        $this->addSql("ALTER TABLE hash_tags_petitions DROP FOREIGN KEY FK_20931056AB18B62D");
        $this->addSql("ALTER TABLE representatives DROP FOREIGN KEY FK_FC93E535A393D2FB");
        $this->addSql("ALTER TABLE groups DROP FOREIGN KEY FK_F06D3970BC754EFF");
        $this->addSql("ALTER TABLE representatives DROP FOREIGN KEY FK_FC93E5355CC5DB90");
        $this->addSql("ALTER TABLE hash_tags_petitions DROP FOREIGN KEY FK_20931056AEC7D346");
        $this->addSql("ALTER TABLE micropetitions_answers DROP FOREIGN KEY FK_9E77053DAEC7D346");
        $this->addSql("ALTER TABLE poll_questions_comments_rate DROP FOREIGN KEY FK_3F8AB5C5F8697D13");
        $this->addSql("ALTER TABLE poll_questions_comments DROP FOREIGN KEY FK_15824CD85550C4ED");
        $this->addSql("ALTER TABLE poll_educational_context DROP FOREIGN KEY FK_B888EC6A1E27F6BF");
        $this->addSql("ALTER TABLE poll_questions_comments DROP FOREIGN KEY FK_15824CD81E27F6BF");
        $this->addSql("ALTER TABLE questions_recipients DROP FOREIGN KEY FK_89128B481E27F6BF");
        $this->addSql("ALTER TABLE poll_options DROP FOREIGN KEY FK_2C6077B81E27F6BF");
        $this->addSql("ALTER TABLE poll_answers DROP FOREIGN KEY FK_AC854B391E27F6BF");
        $this->addSql("ALTER TABLE poll_answers DROP FOREIGN KEY FK_AC854B39A7C41D6F");
        $this->addSql("ALTER TABLE users_groups DROP FOREIGN KEY FK_FF8AB7E0A76ED395");
        $this->addSql("ALTER TABLE activities DROP FOREIGN KEY FK_B5F1AFE5A76ED395");
        $this->addSql("ALTER TABLE users_follow DROP FOREIGN KEY FK_67D3CAE0A76ED395");
        $this->addSql("ALTER TABLE users_follow DROP FOREIGN KEY FK_67D3CAE0AC24F853");
        $this->addSql("ALTER TABLE micropetitions DROP FOREIGN KEY FK_DE658FA0A76ED395");
        $this->addSql("ALTER TABLE micropetitions_answers DROP FOREIGN KEY FK_9E77053DA76ED395");
        $this->addSql("ALTER TABLE poll_questions_comments_rate DROP FOREIGN KEY FK_3F8AB5C5A76ED395");
        $this->addSql("ALTER TABLE poll_questions_comments DROP FOREIGN KEY FK_15824CD8A76ED395");
        $this->addSql("ALTER TABLE poll_answers DROP FOREIGN KEY FK_AC854B39A76ED395");
        $this->addSql("ALTER TABLE notification_invites DROP FOREIGN KEY FK_1660E0DBA76ED395");
        $this->addSql("ALTER TABLE users_districts DROP FOREIGN KEY FK_E9E623DA76ED395");
        $this->addSql("ALTER TABLE groups_fields_values DROP FOREIGN KEY FK_7984E7FAA76ED395");
        $this->addSql("ALTER TABLE groups_fields_values DROP FOREIGN KEY FK_7984E7FA443707B0");
        $this->addSql("DROP TABLE representatives");
        $this->addSql("DROP TABLE groups");
        $this->addSql("DROP TABLE users_groups");
        $this->addSql("DROP TABLE activities");
        $this->addSql("DROP TABLE districts");
        $this->addSql("DROP TABLE superusers");
        $this->addSql("DROP TABLE hash_tags");
        $this->addSql("DROP TABLE hash_tags_petitions");
        $this->addSql("DROP TABLE deferred_invites");
        $this->addSql("DROP TABLE users_follow");
        $this->addSql("DROP TABLE question_limits");
        $this->addSql("DROP TABLE states");
        $this->addSql("DROP TABLE representatives_storage");
        $this->addSql("DROP TABLE announcements");
        $this->addSql("DROP TABLE micropetitions");
        $this->addSql("DROP TABLE micropetitions_answers");
        $this->addSql("DROP TABLE poll_questions_comments_rate");
        $this->addSql("DROP TABLE poll_educational_context");
        $this->addSql("DROP TABLE poll_questions_comments");
        $this->addSql("DROP TABLE poll_questions");
        $this->addSql("DROP TABLE questions_recipients");
        $this->addSql("DROP TABLE poll_options");
        $this->addSql("DROP TABLE poll_answers");
        $this->addSql("DROP TABLE user");
        $this->addSql("DROP TABLE notification_invites");
        $this->addSql("DROP TABLE users_districts");
        $this->addSql("DROP TABLE groups_fields");
        $this->addSql("DROP TABLE groups_fields_values");
    }
}
